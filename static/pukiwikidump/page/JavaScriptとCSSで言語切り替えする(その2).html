<!DOCTYPE html>
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="Tipsや調べたことなど、自分のために残したもの。">
		<meta name="author" content="ふくちはるき">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>JavaScriptとCSSで言語切り替えする(その2) - ポケットがチケットでいっぱい（アーカイブ）</title>
		<base href="/static/pukiwikidump/">
		<link rel="stylesheet" href="style.css">
		<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-21698320-3', 'auto');
		ga('send', 'pageview');
		</script>
	</head><body>
<div id="header">
			<h1>JavaScriptとCSSで言語切り替えする(その2)</h1>
			<div id="navigator">
				<a class="return" href=".">トップページに戻る</a>
			</div>
		</div><div id="body"><h2 id="content_1_0">関連  <a class="anchor_super" id="odb24f4b" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#odb24f4b" title="odb24f4b">†</a></h2>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>HTML</li>
<li>JavaScript/jQuery</li>
<li>CSS</li></ul>

<div class="jumpmenu"><a href="page/JavaScriptとCSSで言語切り替えする(その2).html#navigator">↑</a></div><h2 id="content_1_1">概要  <a class="anchor_super" id="af28e4a4" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#af28e4a4" title="af28e4a4">†</a></h2>
<p>JavaScriptとCSSで言語切り替えをする方法のメモです(後日きれいにまとめるかも)。</p>
<p>Webアプリケーションのフレームワークが多言語対応しているケースが多いと思いますが、ここではあえてJavaScriptとCSSだけで実現する方法を考えてみます。多言語対応した静的なページをWebサーバで、なんてときに。</p>
<p><a href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B.html" title="JavaScriptとCSSで言語切り替えする (2227d)">その1</a>もどうぞ。</p>

<div class="jumpmenu"><a href="page/JavaScriptとCSSで言語切り替えする(その2).html#navigator">↑</a></div><h2 id="content_1_2">方法  <a class="anchor_super" id="n3424d9b" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#n3424d9b" title="n3424d9b">†</a></h2>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>index.html
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset="utf-8"&gt;
		&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
		&lt;title&gt;多言語対応テスト&lt;/title&gt;
		&lt;link rel="stylesheet" type="text/css" href="css/initialize.css"&gt;
		&lt;noscript&gt;
			&lt;link rel="stylesheet" href="css/noscript.css"&gt;
		&lt;/noscript&gt;
		&lt;script type="text/javascript" src="js/jquery.js"&gt;&lt;/script&gt;
		&lt;script type="text/javascript" src="js/multilingual.js"&gt;&lt;/script&gt;
		&lt;script type="text/javascript"&gt;
&lt;!--
jQuery(function() {
	jQuery('#multilingual').multilingual();
});
// --&gt;
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body class="ja"&gt;
			&lt;div id="multilingual"&gt;&lt;/div&gt;
			&lt;div id="header"&gt;
				&lt;span class="multilingual en"&gt;English Header&lt;/span&gt;
				&lt;span class="multilingual ja sub"&gt;日本語ヘッダ&lt;/span&gt;
			&lt;/div&gt;
			&lt;div id="content"&gt;
				&lt;span class="multilingual en"&gt;English Content&lt;/span&gt;
				&lt;span class="multilingual ja sub"&gt;日本語コンテント&lt;/span&gt;
			&lt;/div&gt;
			&lt;div id="footer"&gt;
				&lt;span class="multilingual en"&gt;English Footer&lt;/span&gt;
				&lt;span class="multilingual ja sub"&gt;日本語フッタ&lt;/span&gt;
			&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;</pre></li></ul>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>css/initialize.css
<pre>@charset "UTF-8"

body {
 	display: none;
}</pre></li></ul>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>css/noscript.css
<pre>@charset "UTF-8";

body {
	display: block;
}

.multilingual.sub {
 	display: none;
}</pre></li></ul>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>js/multilingual.js
<pre>(function() {

	var langs = [
		{lang: 'ja', name: '日本語'},
		{lang: 'en', name: 'English'}
	];

	var setLang = function(lang) {
		if (! lang) {
			lang = langs[0].lang;
		}
		jQuery.each(langs, function() {
			jQuery('body').removeClass(this.lang);
		});
		jQuery('body').addClass(lang);
		var toHide = '.multilingual';
		jQuery(toHide).hide();
		var toShow = '.multilingual.' + lang;
		jQuery(toShow).show();
	};

	jQuery.fn.extend({
		multilingual: function(callback) {
			var target = jQuery('&lt;ul /&gt;').appendTo(this);
			jQuery.each(langs, function() {
				jQuery(target).append(
					jQuery('&lt;li /&gt;').append(
						jQuery('&lt;a /&gt;')
						.attr('rel', this.lang)
						.text(this.name)
						.click(function() {
							var lang = jQuery(this).attr('rel');
							setLang(lang);
							if (callback) {
								callback(lang);
							}
						})
					)
				);
			});
		}
	});

	jQuery(function() {
		setLang(langs[1].lang);
		jQuery('body').css('display', 'block');
	});

})();</pre></li></ul>

<div class="jumpmenu"><a href="page/JavaScriptとCSSで言語切り替えする(その2).html#navigator">↑</a></div><h2 id="content_1_3">解説  <a class="anchor_super" id="z72447c4" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#z72447c4" title="z72447c4">†</a></h2>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li>日本語と英語を全部書いて全体を非表示(css/initialize.css)
<ul class="list2" style="padding-left:16px;margin-left:16px"><li>JavaScript有効の場合言語を設定して全体を表示(js/multilingual.js)</li>
<li>JavaScript無効の場合全体を表示してサブ言語を非表示(css/noscript.css)
<ul class="list3" style="padding-left:16px;margin-left:16px"><li>linkをnoscriptでheadの中に書くためhtml5</li></ul></li></ul></li></ul>

<div class="jumpmenu"><a href="page/JavaScriptとCSSで言語切り替えする(その2).html#navigator">↑</a></div><h3 id="content_1_4">非表示言語分のパラメータが送れてしまう  <a class="anchor_super" id="a1143b93" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#a1143b93" title="a1143b93">†</a></h3>
<p>はい。disabled などしてあげないといけないと思います。</p>

<div class="jumpmenu"><a href="page/JavaScriptとCSSで言語切り替えする(その2).html#navigator">↑</a></div><h2 id="content_1_5">参考  <a class="anchor_super" id="l4492db0" href="page/JavaScript%E3%81%A8CSS%E3%81%A7%E8%A8%80%E8%AA%9E%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%81%99%E3%82%8B%28%E3%81%9D%E3%81%AE2%29.html#l4492db0" title="l4492db0">†</a></h2>
<ul class="list1" style="padding-left:16px;margin-left:16px"><li><a href="http://terkel.jp/archives/2012/07/styles-for-noscript/" rel="nofollow">http://terkel.jp/archives/2012/07/styles-for-noscript/</a></li></ul>
</div><div id="lastmodified">Last-modified: 2013-08-17 (土) 18:07:15  (2227d)</div><div id="sponsor-link">
			<p>スポンサーリンク</p>
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

			<!-- wiki/記事下左 - レクタングル -->
			<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-3652547341671748" data-ad-slot="4606605347"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>

			<!-- wiki/記事下右 - レクタングル -->
			<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-3652547341671748" data-ad-slot="6083338544"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div><div id="footer">
			<p class="description">Tipsや調べたことなど、自分のために残したもの。</p>
			<div class="site-admin"><a href="https://fukuchiharuki.me/">ふくちはるき</a></div>
			<div class="timestamp">2019-09-23T20:00:19</div>
		</div></body>
</html>
